<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Tame Your Frontend Stack with gulp.js</title>

    <meta name="description" content="Use gulp.js to organize your frontend sprawl">
    <meta name="author" content="Ben Gladwell">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">

    <link rel="stylesheet" href="css/codemash2014.css">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
      if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
      }
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">

        <section>
          <h1>Tame Your Frontend Stack with gulp.js</h1>
        </section>

        <section>
          <h2>Frontend is hard</h2>
          <aside class="notes">
            Alternative work flows; custom bash scripts; CodeKit
          </aside>
        </section>

        <section>
          <blockquote cite="http://www.reddit.com/r/programming/comments/2kl88s/angular_20_drastically_different/clml1hj">
            As many others here have observed, fashionable webdev now is beyond a joke; I'm seriously glad I got out of it when I did. Once you're forced to actually deal with this nonsense you either run screaming for the exits or go insane. It's not even fragmentation, it's fragmentation cubed... I don't understand. I don't understand why anyone thinks this is a good idea. I've seen code produced by people using this stuff, and it's just unbelievably awful. They shovel together this giant spaghetti turd without understanding any of the components involved, because nobody has time to understand anything when it changes every thirty seconds...
          </blockquote>
          <p>othermike - <a href="http://www.reddit.com/r/programming/comments/2kl88s/angular_20_drastically_different/clml1hj">reddit</a></p>
        </section>

        <section>
          <h2>Why?</h2>
          <ul>
            <li class="fragment">The web platform is complicated</li>
            <li class="fragment">Node, npm, and the Unix philosophy</li>
            <li class="fragment">Bats and moths</li>
          </ul>
        </section>

        <section>
          <img src="/img/bat_moth.jpg" alt="Bat vs Moth">
        </section>

        <section>
          <h3>Useful frontend stuff</h3>
          <table>
            <tr class="fragment"><td>3rd-party JS package management</td><td></td></tr>
            <tr class="fragment"><td>JS MV* framework</td><td></td></tr>
            <tr class="fragment"><td>Precompiled templates</td><td></td></tr>
            <tr class="fragment"><td>JS module system</td><td></td></tr>
            <tr class="fragment"><td>CSS precompiler</td><td></td></tr>
            <tr class="fragment"><td>Productivity: JS code linting</td><td></td></tr>
            <tr class="fragment"><td>Productivity: Automatic code reloading</td><td></td></tr>
            <tr class="fragment"><td>Test runner, assertion library, mock library</td><td></td></tr>
          </table>
        </section>

        <section>
          <h3>Useful frontend stuff</h3>
          <table>
            <tr><td>3rd-party JS package management</td><td>Bower</td></tr>
            <tr><td>JS MV* framework</td><td>Backbone</td></tr>
            <tr><td>Precompiled templates</td><td>Handlebars</td></tr>
            <tr><td>JS module system</td><td>CommonJS/Browserify</td></tr>
            <tr><td>CSS precompiler</td><td>Less</td></tr>
            <tr><td>Productivity: JS code linting</td><td>JSHint</td></tr>
            <tr><td>Productivity: Automatic code reloading</td><td>Gulp watch</td></tr>
            <tr><td>Test runner, assertion library, mocking</td><td>Testem, Mocha, Sinon</td></tr>
          </table>
        </section>

        <section>
          <h2>5 stages of dealing with frontend tooling</h2>
          <ul>
            <li class="fragment">Denial</li>
            <li class="fragment">Anger</li>
            <aside class="notes">
              Our friend from reddit seemed to be here
            </aside>
            <li class="fragment">Bargaining</li>
            <aside class="notes">
              Custom bash scripts, Codekit, Livereload Chrome extension
            </aside>
            <li class="fragment">Depression</li>
            <aside class="notes">
              Come to CodeMash
            </aside>
            <li class="fragment">Acceptance</li>
          </ul>
        </section>

        <section id="gulp-img">
            <img src="http://gruntjs.com/img/grunt-logo.svg" alt="grunt.js"/>
						<img src="http://www.bengladwell.com/content/images/2014/Aug/gulp-2x.png" alt="gulp.js"/>
        </section>

        <section id="gulp-img">
						<img src="http://www.bengladwell.com/content/images/2014/Aug/gulp-2x.png" alt="gulp.js"/>
        </section>

        <section>
          <h2>Test project</h2>
          <img class="fragment" src="/img/beardpoet.jpg" alt="Beard Poet">
          <ul>
            <li><a class="fragment" href="https://github.com/bengladwell/fridgewords">github: bengladwell/fridgewords</a></li>
          </ul>
        </section>

        <section>
          <h2>Setup</h2>
          <ul>
            <li class="fragment">You need node</li>
          </ul>
        </section>

        <section>
          <h2>Setup</h2>
          <h4>npm</h4>
          <div>
            <pre><code class="bash" data-trim>
# npm init

# npm install --save express
# npm install --save express-hbs
# npm install --save serve-static
            </code></pre>
          </div>
        </section>

        <section>
          <h2>Setup</h2>
          <h4>package.json</h4>
          <pre><code class="json" data-trim>
{
  "name": "fridgewords",
  "version": "0.0.1",
  "description": "CodeMash 2015 - how to do frontend with gulp.js",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/bengladwell/fridgewords.git"
  },
  "author": "Ben Gladwell",
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/bengladwell/fridgewords/issues"
  },
  "homepage": "https://github.com/bengladwell/fridgewords",
  "dependencies": {
    "express": "^4.10.6",
    "express-hbs": "^0.7.11",
    "serve-static": "^1.7.1"
  }
}
          </code></pre>
        </section>

        <section>
          <h2>Server side: Node/Express</h2>
          npm init
          npm install --save express
          npm install --save express-hbs
          Directory layout:
        </section>

        <section>
          <h2>3rd-party JS package management</h2>
          <h1>Bower</h1>
          bower init
          bower install --save jquery-ui
          goal: vendor.js that contains all 3rd party dependencies in necessary load order
          npm install --save-dev gulp
          npm install --save-dev gulp-concat
          npm install --save-dev main-bower-files
          create gulpfile with simple "bower" task
          - we don't want to ship unminified vendor code; we prefer to use upstream minified code
          - add overrides to bower.json for jquery and jquery-ui
          - make change to gulpfile.js
        </section>

        <section>
          <h2>Bower example: Backbone</h2>
          bower install --save backbone
          - npm install --save-dev gulp-rename gulp-uglify
          - add vendor task
          - add vendor dependency to bower task
          - add minified overrides to bower.json
        </section>

        <section>
          <h2>Let's start building</h2>
          - where to start?
          - build modular
          - tree structure; top most node is the module that kicks everything off; this is the one with $(function () {...
          - CommonJS vs AMD
          - client/app.js
        </section>

        <section>
          <h2>Browserify</h2>
          - app.js, Layout.js, App.js (router)
          - npm install --save-dev gulp-browserify
          - explain benefits of "require" build - unused code never in build
        </section>

        <section>
          <h2>Templates</h2>
          - commit: needs templates
          - LayoutView needs a template
          <h4>Enter Handlebars</h4>
          - explain precompiled templates
          - aside re: Grunt Handlebars plugin
          - bower install --save handlebars
          - bower.json override (for runtime only)
          - npm install --save-dev gulp-handlebars
          - module.exports problem
          - npm install --save-dev gulp-wrap
          - add templates task as dependency to browserify task
        </section>

        <section>
          <h2>Style</h2>
          - Bootstrap
          - Less
          - bower install --save bootstrap
          - npm install --save-dev gulp-less
          - gulp less task
        </section>

        <section>
          <h2>Productivity</h2>
          <h3>Livereload</h3>
          - gulp.watch
          - npm install --save-dev gulp-livereload
          - add task
          - demonstrate; change less file; add to template
          <h3>linting</h3>
          - simulate syntax error; draw attention to helpfulness of linting
        </section>

        <section>
          <h2>Testing</h2>
          npm install --save-dev testem mocha chai sinon
        </section>

        <section>
          <h2>Other considerations</h2>
          shrink wrap
          plumber
          no-templates
        </section>

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
